"use strict";(self.webpackChunkAngularTask=self.webpackChunkAngularTask||[]).push([[475],{2475:(X,f,s)=>{s.r(f),s.d(f,{ProductsComponent:()=>S});var g=s(177),o=s(4341),F=s(7421),E=s(2788),t=s(8699),h=s(9055),v=s(5794),k=s(7572);function b(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"title is required"),t.k0s())}function P(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"title MinLength 3"),t.k0s())}function C(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"title MaxLength 20"),t.k0s())}function T(e,u){if(1&e&&(t.j41(0,"div",23),t.DNE(1,b,2,0,"p",24),t.DNE(2,P,2,0,"p",24),t.DNE(3,C,2,0,"p",24),t.k0s()),2&e){const n=t.XpG();let i,r,l;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("title"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("title"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(l=n.productForm.get("title"))?null:l.getError("maxlength"))}}function D(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"description is required"),t.k0s())}function j(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"description MinLength 10"),t.k0s())}function R(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"description MaxLength 100"),t.k0s())}function I(e,u){if(1&e&&(t.j41(0,"div",23),t.DNE(1,D,2,0,"p",24),t.DNE(2,j,2,0,"p",24),t.DNE(3,R,2,0,"p",24),t.k0s()),2&e){const n=t.XpG();let i,r,l;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("description"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("description"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(l=n.productForm.get("description"))?null:l.getError("maxlength"))}}function G(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"price is required"),t.k0s())}function x(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"min price 0"),t.k0s())}function N(e,u){if(1&e&&(t.j41(0,"div",23),t.DNE(1,G,2,0,"p",24),t.DNE(2,x,2,0,"p",24),t.k0s()),2&e){const n=t.XpG();let i,r;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("price"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("price"))?null:r.getError("min"))}}function L(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"brand is required"),t.k0s())}function M(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"brand MinLength 3"),t.k0s())}function Y(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"brand MaxLength 20"),t.k0s())}function $(e,u){if(1&e&&(t.j41(0,"div",23),t.DNE(1,L,2,0,"p",24),t.DNE(2,M,2,0,"p",24),t.DNE(3,Y,2,0,"p",24),t.k0s()),2&e){const n=t.XpG();let i,r,l;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("brand"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("brand"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(l=n.productForm.get("brand"))?null:l.getError("maxlength"))}}function O(e,u){if(1&e){const n=t.RV6();t.j41(0,"div",3),t.nrm(1,"input",25),t.j41(2,"button",26),t.bIt("click",function(){const l=t.eBV(n).index,c=t.XpG();return t.Njj(c.removeTag(l))}),t.EFF(3,"Remove"),t.k0s()()}if(2&e){const n=u.index;t.R7$(1),t.Y8G("formControlName",n)}}function y(e,u){1&e&&(t.j41(0,"p"),t.EFF(1,"images is required"),t.k0s())}function A(e,u){if(1&e&&(t.j41(0,"div",23),t.DNE(1,y,2,0,"p",24),t.k0s()),2&e){const n=t.XpG();let i;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("images"))?null:i.getError("required"))}}let S=(()=>{class e{constructor(n,i,r,l){this._ProductService=n,this.toster=i,this._Router=r,this.fb=l,this.productForm=this.fb.group({title:["",[o.k0.required,o.k0.maxLength(20),o.k0.minLength(3)]],description:["",[o.k0.required,o.k0.maxLength(100),o.k0.minLength(10)]],price:["",[o.k0.required,o.k0.min(0)]],brand:["",[o.k0.required,o.k0.maxLength(20),o.k0.minLength(3)]],tags:this.fb.array([this.fb.control("",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)])]),images:[[],o.k0.required]})}get tags(){return this.productForm.get("tags")}addTag(){this.tags.push(this.fb.control("",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)]))}removeTag(n){this.tags.removeAt(n)}onFileChange(n){const r=n.target.files;if(null!=r&&r.length>0){const l=Array.from(r).map(c=>c.name);this.productForm.patchValue({images:l}),console.log("Selected file names:",l)}}handleForm(){this.productForm.valid?(console.log(this.productForm.value),this._ProductService.addProduct(this.productForm.value).subscribe({next:n=>{console.log(n),this._Router.navigate(["/home"]),this.toster.success("Product Added Successfully")},error:n=>{console.log(n),this.toster.error("Error Adding Product")}})):(console.log("invalid form"),this.toster.error("Invalid Form"))}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(h.b),t.rXU(v.tw),t.rXU(k.Ix),t.rXU(o.ok))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-products"]],standalone:!0,features:[t.aNF],decls:42,vars:8,consts:[[1,"container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["inputTitle",""],["class","alert alert-danger",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control"],["inputdesc",""],["for","price"],["type","number","id","price","formControlName","price",1,"form-control"],["inputprice",""],["for","brand"],["type","text","id","brand","formControlName","brand",1,"form-control"],["inputbrand",""],["formArrayName","tags"],["class","form-group",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],["for","images"],["type","file","id","images","multiple","","accept","image/jpeg,image/png",1,"form-control",3,"change"],["type","submit",1,"submit-btn","btn","btn-primary","my-4",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],["type","text",1,"form-control","mb-2",3,"formControlName"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(i,r){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"Create Product"),t.k0s(),t.j41(4,"form",2),t.bIt("ngSubmit",function(){return r.handleForm()}),t.j41(5,"div",3)(6,"label",4),t.EFF(7,"Product Title"),t.k0s(),t.nrm(8,"input",5,6),t.DNE(10,T,4,3,"div",7),t.k0s(),t.j41(11,"div",3)(12,"label",8),t.EFF(13,"Description"),t.k0s(),t.nrm(14,"textarea",9,10),t.DNE(16,I,4,3,"div",7),t.k0s(),t.j41(17,"div",3)(18,"label",11),t.EFF(19,"Price"),t.k0s(),t.nrm(20,"input",12,13),t.DNE(22,N,3,2,"div",7),t.k0s(),t.j41(23,"div",3)(24,"label",14),t.EFF(25,"Brand"),t.k0s(),t.nrm(26,"input",15,16),t.DNE(28,$,4,3,"div",7),t.k0s(),t.j41(29,"div",17)(30,"label"),t.EFF(31,"Tags"),t.k0s(),t.DNE(32,O,4,1,"div",18),t.j41(33,"button",19),t.bIt("click",function(){return r.addTag()}),t.EFF(34,"Add Tag"),t.k0s()(),t.j41(35,"div",3)(36,"label",20),t.EFF(37,"Select images:"),t.k0s(),t.j41(38,"input",21),t.bIt("change",function(c){return r.onFileChange(c)}),t.k0s(),t.DNE(39,A,2,1,"div",7),t.k0s(),t.j41(40,"button",22),t.EFF(41,"Create Product"),t.k0s()()()()),2&i){const l=t.sdS(9),c=t.sdS(15),U=t.sdS(21),B=t.sdS(27);let d,p,m,_,a;t.R7$(4),t.Y8G("formGroup",r.productForm),t.R7$(6),t.Y8G("ngIf",((null==(d=r.productForm.get("title"))?null:d.touched)||l.value.length>0)&&(null==(d=r.productForm.get("title"))?null:d.errors)),t.R7$(6),t.Y8G("ngIf",((null==(p=r.productForm.get("description"))?null:p.touched)||c.value.length>0)&&(null==(p=r.productForm.get("description"))?null:p.errors)),t.R7$(6),t.Y8G("ngIf",((null==(m=r.productForm.get("price"))?null:m.touched)||U.value.length>0)&&(null==(m=r.productForm.get("price"))?null:m.errors)),t.R7$(6),t.Y8G("ngIf",((null==(_=r.productForm.get("brand"))?null:_.touched)||B.value.length>0)&&(null==(_=r.productForm.get("brand"))?null:_.errors)),t.R7$(4),t.Y8G("ngForOf",r.tags.controls),t.R7$(7),t.Y8G("ngIf",(null==(a=r.productForm.get("images"))?null:a.touched)&&(null==(a=r.productForm.get("images"))?null:a.errors)),t.R7$(1),t.Y8G("disabled",r.productForm.invalid)}},dependencies:[g.MD,g.Sq,g.bT,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,o.v8,F.RG,E.fS,o.YN],changeDetection:0})}}return e})()}}]);