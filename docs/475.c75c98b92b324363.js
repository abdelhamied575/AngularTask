"use strict";(self.webpackChunkAngularTask=self.webpackChunkAngularTask||[]).push([[475],{2475:(J,F,u)=>{u.r(F),u.d(F,{ProductsComponent:()=>W});var f=u(177),o=u(4341),P=u(7421),b=u(2788),t=u(8699),C=u(9055),T=u(5794),D=u(7572);function j(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"title is required"),t.k0s())}function R(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"title MinLength 3"),t.k0s())}function I(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"title MaxLength 20"),t.k0s())}function G(e,l){if(1&e&&(t.j41(0,"div",25),t.DNE(1,j,2,0,"p",26),t.DNE(2,R,2,0,"p",26),t.DNE(3,I,2,0,"p",26),t.k0s()),2&e){const n=t.XpG();let i,r,s;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("title"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("title"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(s=n.productForm.get("title"))?null:s.getError("maxlength"))}}function N(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"description is required"),t.k0s())}function x(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"description MinLength 10"),t.k0s())}function $(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"description MaxLength 100"),t.k0s())}function L(e,l){if(1&e&&(t.j41(0,"div",25),t.DNE(1,N,2,0,"p",26),t.DNE(2,x,2,0,"p",26),t.DNE(3,$,2,0,"p",26),t.k0s()),2&e){const n=t.XpG();let i,r,s;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("description"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("description"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(s=n.productForm.get("description"))?null:s.getError("maxlength"))}}function M(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"price is required"),t.k0s())}function Y(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"min price 0"),t.k0s())}function O(e,l){if(1&e&&(t.j41(0,"div",25),t.DNE(1,M,2,0,"p",26),t.DNE(2,Y,2,0,"p",26),t.k0s()),2&e){const n=t.XpG();let i,r;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("price"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("price"))?null:r.getError("min"))}}function S(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"brand is required"),t.k0s())}function y(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"brand MinLength 3"),t.k0s())}function A(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"brand MaxLength 20"),t.k0s())}function B(e,l){if(1&e&&(t.j41(0,"div",25),t.DNE(1,S,2,0,"p",26),t.DNE(2,y,2,0,"p",26),t.DNE(3,A,2,0,"p",26),t.k0s()),2&e){const n=t.XpG();let i,r,s;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("brand"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(r=n.productForm.get("brand"))?null:r.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(s=n.productForm.get("brand"))?null:s.getError("maxlength"))}}function U(e,l){if(1&e){const n=t.RV6();t.j41(0,"div",3),t.nrm(1,"input",27),t.j41(2,"button",28),t.bIt("click",function(){const s=t.eBV(n).index,p=t.XpG();return t.Njj(p.removeTag(s))}),t.EFF(3,"Remove"),t.k0s()()}if(2&e){const n=l.index;t.R7$(1),t.Y8G("formControlName",n)}}function X(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"images is required"),t.k0s())}function q(e,l){if(1&e&&(t.j41(0,"div",25),t.DNE(1,X,2,0,"p",26),t.k0s()),2&e){const n=t.XpG();let i;t.R7$(1),t.Y8G("ngIf",null==(i=n.productForm.get("images"))?null:i.getError("required"))}}function w(e,l){1&e&&t.nrm(0,"img",32),2&e&&t.Y8G("src",l.$implicit,t.B4B)}function K(e,l){if(1&e&&(t.j41(0,"div",29)(1,"h5"),t.EFF(2,"Image Previews:"),t.k0s(),t.j41(3,"div",30),t.DNE(4,w,1,1,"img",31),t.k0s()()),2&e){const n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.imagePreviews)}}let W=(()=>{class e{constructor(n,i,r,s){this._ProductService=n,this.toster=i,this._Router=r,this.fb=s,this.imagePreviews=[],this.productForm=this.fb.group({title:["",[o.k0.required,o.k0.maxLength(20),o.k0.minLength(3)]],description:["",[o.k0.required,o.k0.maxLength(100),o.k0.minLength(10)]],price:["",[o.k0.required,o.k0.min(0)]],brand:["",[o.k0.required,o.k0.maxLength(20),o.k0.minLength(3)]],tags:this.fb.array([this.fb.control("",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)])]),images:[[],o.k0.required]})}get tags(){return this.productForm.get("tags")}addTag(){this.tags.push(this.fb.control("",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)]))}removeTag(n){this.tags.removeAt(n)}onFileChange(n){const r=n.target.files;if(r&&r.length>0){const s=[];this.imagePreviews=[],Array.from(r).forEach(p=>{s.push(p.name);const d=new FileReader;d.onload=()=>{this.imagePreviews.push(d.result)},d.readAsDataURL(p)}),this.productForm.patchValue({images:s}),console.log("Selected file names:",s)}}handleForm(){this.productForm.valid?(console.log(this.productForm.value),this._ProductService.addProduct(this.productForm.value).subscribe({next:n=>{console.log(n),this._Router.navigate(["/home"]),this.toster.success("Product Added Successfully")},error:n=>{console.log(n),this.toster.error("Error Adding Product")}})):(console.log("invalid form"),this.toster.error("Invalid Form"))}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(C.b),t.rXU(T.tw),t.rXU(D.Ix),t.rXU(o.ok))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-products"]],standalone:!0,features:[t.aNF],decls:66,vars:14,consts:[[1,"container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["inputTitle",""],["class","alert alert-danger",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control"],["inputdesc",""],["for","price"],["type","number","id","price","formControlName","price",1,"form-control"],["inputprice",""],["for","brand"],["type","text","id","brand","formControlName","brand",1,"form-control"],["inputbrand",""],["formArrayName","tags"],["class","form-group",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],["for","images"],["type","file","id","images","multiple","","accept","image/jpeg,image/png",1,"form-control",3,"change"],["type","submit",1,"submit-btn","btn","btn-primary","my-4",3,"disabled"],[1,"live-preview","mt-5","p-3","border","rounded","bg-light"],["class","image-preview mt-3",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["type","text",1,"form-control","mb-2",3,"formControlName"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"image-preview","mt-3"],[1,"d-flex","flex-wrap","gap-3"],["class","img-thumbnail","style","width: 150px; height: auto;",3,"src",4,"ngFor","ngForOf"],[1,"img-thumbnail",2,"width","150px","height","auto",3,"src"]],template:function(i,r){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"Create Product"),t.k0s(),t.j41(4,"form",2),t.bIt("ngSubmit",function(){return r.handleForm()}),t.j41(5,"div",3)(6,"label",4),t.EFF(7,"Product Title"),t.k0s(),t.nrm(8,"input",5,6),t.DNE(10,G,4,3,"div",7),t.k0s(),t.j41(11,"div",3)(12,"label",8),t.EFF(13,"Description"),t.k0s(),t.nrm(14,"textarea",9,10),t.DNE(16,L,4,3,"div",7),t.k0s(),t.j41(17,"div",3)(18,"label",11),t.EFF(19,"Price"),t.k0s(),t.nrm(20,"input",12,13),t.DNE(22,O,3,2,"div",7),t.k0s(),t.j41(23,"div",3)(24,"label",14),t.EFF(25,"Brand"),t.k0s(),t.nrm(26,"input",15,16),t.DNE(28,B,4,3,"div",7),t.k0s(),t.j41(29,"div",17)(30,"label"),t.EFF(31,"Tags"),t.k0s(),t.DNE(32,U,4,1,"div",18),t.j41(33,"button",19),t.bIt("click",function(){return r.addTag()}),t.EFF(34,"Add Tag"),t.k0s()(),t.j41(35,"div",3)(36,"label",20),t.EFF(37,"Select images:"),t.k0s(),t.j41(38,"input",21),t.bIt("change",function(p){return r.onFileChange(p)}),t.k0s(),t.DNE(39,q,2,1,"div",7),t.k0s(),t.j41(40,"button",22),t.EFF(41,"Create Product"),t.k0s()()(),t.j41(42,"div",23)(43,"h3"),t.EFF(44,"Live Preview Mock Div Showing Data in real time"),t.k0s(),t.j41(45,"p")(46,"strong"),t.EFF(47,"Title:"),t.k0s(),t.EFF(48),t.k0s(),t.j41(49,"p")(50,"strong"),t.EFF(51,"Description:"),t.k0s(),t.EFF(52),t.k0s(),t.j41(53,"p")(54,"strong"),t.EFF(55,"Price:"),t.k0s(),t.EFF(56),t.k0s(),t.j41(57,"p")(58,"strong"),t.EFF(59,"Brand:"),t.k0s(),t.EFF(60),t.k0s(),t.j41(61,"p")(62,"strong"),t.EFF(63,"Tags:"),t.k0s(),t.EFF(64),t.k0s(),t.DNE(65,K,5,1,"div",24),t.k0s()()),2&i){const s=t.sdS(9),p=t.sdS(15),d=t.sdS(21),V=t.sdS(27);let m,c,a,_,g,v,E,h,k;t.R7$(4),t.Y8G("formGroup",r.productForm),t.R7$(6),t.Y8G("ngIf",((null==(m=r.productForm.get("title"))?null:m.touched)||s.value.length>0)&&(null==(m=r.productForm.get("title"))?null:m.errors)),t.R7$(6),t.Y8G("ngIf",((null==(c=r.productForm.get("description"))?null:c.touched)||p.value.length>0)&&(null==(c=r.productForm.get("description"))?null:c.errors)),t.R7$(6),t.Y8G("ngIf",((null==(a=r.productForm.get("price"))?null:a.touched)||d.value.length>0)&&(null==(a=r.productForm.get("price"))?null:a.errors)),t.R7$(6),t.Y8G("ngIf",((null==(_=r.productForm.get("brand"))?null:_.touched)||V.value.length>0)&&(null==(_=r.productForm.get("brand"))?null:_.errors)),t.R7$(4),t.Y8G("ngForOf",r.tags.controls),t.R7$(7),t.Y8G("ngIf",(null==(g=r.productForm.get("images"))?null:g.touched)&&(null==(g=r.productForm.get("images"))?null:g.errors)),t.R7$(1),t.Y8G("disabled",r.productForm.invalid),t.R7$(8),t.SpI(" ",null==(v=r.productForm.get("title"))?null:v.value,""),t.R7$(4),t.SpI(" ",null==(E=r.productForm.get("description"))?null:E.value,""),t.R7$(4),t.SpI(" ",null==(h=r.productForm.get("price"))?null:h.value,""),t.R7$(4),t.SpI(" ",null==(k=r.productForm.get("brand"))?null:k.value,""),t.R7$(4),t.SpI(" ",r.tags.value.join(", "),""),t.R7$(1),t.Y8G("ngIf",r.imagePreviews.length>0)}},dependencies:[f.MD,f.Sq,f.bT,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,o.v8,P.RG,b.fS,o.YN],styles:["p[_ngcontent-%COMP%]{padding:0;margin:0}"],changeDetection:0})}}return e})()}}]);