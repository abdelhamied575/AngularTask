"use strict";(self.webpackChunkAngularTask=self.webpackChunkAngularTask||[]).push([[815],{3815:(T,E,u)=>{u.r(E),u.d(E,{EditComponent:()=>X});var g=u(177),o=u(4341),t=u(8699),a=u(9055),D=u(7572),s=u(5794);function d(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Title is required"),t.k0s())}function c(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Title must be at least 3 characters"),t.k0s())}function m(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Title must be at most 20 characters"),t.k0s())}function b(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,d,2,0,"p",24),t.DNE(2,c,2,0,"p",24),t.DNE(3,m,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i,n,p;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("title"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(n=r.productForm.get("title"))?null:n.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(p=r.productForm.get("title"))?null:p.getError("maxlength"))}}function I(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Description is required"),t.k0s())}function P(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Description must be at least 10 characters"),t.k0s())}function R(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Description must be at most 100 characters"),t.k0s())}function j(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,I,2,0,"p",24),t.DNE(2,P,2,0,"p",24),t.DNE(3,R,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i,n,p;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("description"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(n=r.productForm.get("description"))?null:n.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(p=r.productForm.get("description"))?null:p.getError("maxlength"))}}function $(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Price is required"),t.k0s())}function G(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Price must be at least 0"),t.k0s())}function N(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,$,2,0,"p",24),t.DNE(2,G,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i,n;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("price"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(n=r.productForm.get("price"))?null:n.getError("min"))}}function x(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Brand is required"),t.k0s())}function Y(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Brand must be at least 3 characters"),t.k0s())}function U(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Brand must be at most 20 characters"),t.k0s())}function B(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,x,2,0,"p",24),t.DNE(2,Y,2,0,"p",24),t.DNE(3,U,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i,n,p;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("brand"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(n=r.productForm.get("brand"))?null:n.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(p=r.productForm.get("brand"))?null:p.getError("maxlength"))}}function y(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Tags are required"),t.k0s())}function M(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Tags must be at least 3 characters"),t.k0s())}function O(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Tags must be at most 20 characters"),t.k0s())}function L(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,y,2,0,"p",24),t.DNE(2,M,2,0,"p",24),t.DNE(3,O,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i,n,p;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("tags"))?null:i.getError("required")),t.R7$(1),t.Y8G("ngIf",null==(n=r.productForm.get("tags"))?null:n.getError("minlength")),t.R7$(1),t.Y8G("ngIf",null==(p=r.productForm.get("tags"))?null:p.getError("maxlength"))}}function A(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"Images are required"),t.k0s())}function S(e,l){if(1&e&&(t.j41(0,"div",23),t.DNE(1,A,2,0,"p",24),t.k0s()),2&e){const r=t.XpG();let i;t.R7$(1),t.Y8G("ngIf",null==(i=r.productForm.get("images"))?null:i.getError("required"))}}let X=(()=>{class e{constructor(r,i,n,p,C){this._ProductService=r,this._ActivatedRoute=i,this._FormBuilder=n,this._Router=p,this.toster=C,this.productForm=this._FormBuilder.group({title:["",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(50)]],description:["",[o.k0.required,o.k0.minLength(10),o.k0.maxLength(200)]],price:["",[o.k0.required,o.k0.min(0)]],brand:["",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)]],tags:["",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(20)]],images:["",[o.k0.required]]}),this.productId=Number(this._ActivatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this._ProductService.getProductById(this.productId).subscribe({next:r=>{this.productForm.patchValue({title:r.title,description:r.description,price:r.price,brand:r.brand,tags:r.tags,images:r.images.values})},error:r=>{console.error("Error No product:",r)}})}handleForm(){if(this.productForm.valid){const r=this.productForm.value;this._ProductService.updateProduct(this.productId,{title:r.title,description:r.description,price:r.price,brand:r.brand,tags:r.tags,images:r.images}).subscribe({next:n=>{console.log("Product updated:",n),this._Router.navigate(["/home"]),this.toster.success("Product updated successfully")},error:n=>{console.error("Error updating product:",n),this.toster.error("Error updating product",n.message)}})}else console.log("Invalid form")}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(a.b),t.rXU(D.nX),t.rXU(o.ok),t.rXU(D.Ix),t.rXU(s.tw))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-edit"]],standalone:!0,features:[t.aNF],decls:42,vars:8,consts:[[1,"container"],[1,"form-container"],["method","post",3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["inputTitle",""],["class","alert alert-danger",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control"],["inputDesc",""],["for","price"],["type","number","id","price","formControlName","price",1,"form-control"],["inputPrice",""],["for","brand"],["type","text","id","brand","formControlName","brand",1,"form-control"],["inputBrand",""],["for","tags"],["type","text","id","tags","formControlName","tags","placeholder","Enter tags separated by commas",1,"form-control"],["for","images"],["type","file","id","images","formControlName","images","accept","image/jpeg,image/png","multiple","",1,"form-control"],["inputImage",""],["type","submit",1,"submit-btn","btn","btn-primary","my-4",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"Edit Product"),t.k0s(),t.j41(4,"form",2),t.bIt("ngSubmit",function(){return n.handleForm()}),t.j41(5,"div",3)(6,"label",4),t.EFF(7,"Product Title"),t.k0s(),t.nrm(8,"input",5,6),t.DNE(10,b,4,3,"div",7),t.k0s(),t.j41(11,"div",3)(12,"label",8),t.EFF(13,"Description"),t.k0s(),t.nrm(14,"textarea",9,10),t.DNE(16,j,4,3,"div",7),t.k0s(),t.j41(17,"div",3)(18,"label",11),t.EFF(19,"Price"),t.k0s(),t.nrm(20,"input",12,13),t.DNE(22,N,3,2,"div",7),t.k0s(),t.j41(23,"div",3)(24,"label",14),t.EFF(25,"Brand"),t.k0s(),t.nrm(26,"input",15,16),t.DNE(28,B,4,3,"div",7),t.k0s(),t.j41(29,"div",3)(30,"label",17),t.EFF(31,"Tags"),t.k0s(),t.nrm(32,"input",18),t.DNE(33,L,4,3,"div",7),t.k0s(),t.j41(34,"div",3)(35,"label",19),t.EFF(36,"Select images:"),t.k0s(),t.nrm(37,"input",20,21),t.DNE(39,S,2,1,"div",7),t.k0s(),t.j41(40,"button",22),t.EFF(41,"Update Product"),t.k0s()()()()),2&i){const p=t.sdS(9),C=t.sdS(15),q=t.sdS(21),K=t.sdS(27);let f,h,F,v,_,k;t.R7$(4),t.Y8G("formGroup",n.productForm),t.R7$(6),t.Y8G("ngIf",((null==(f=n.productForm.get("title"))?null:f.touched)||p.value.length>0)&&(null==(f=n.productForm.get("title"))?null:f.errors)),t.R7$(6),t.Y8G("ngIf",((null==(h=n.productForm.get("description"))?null:h.touched)||C.value.length>0)&&(null==(h=n.productForm.get("description"))?null:h.errors)),t.R7$(6),t.Y8G("ngIf",((null==(F=n.productForm.get("price"))?null:F.touched)||q.value.length>0)&&(null==(F=n.productForm.get("price"))?null:F.errors)),t.R7$(6),t.Y8G("ngIf",((null==(v=n.productForm.get("brand"))?null:v.touched)||K.value.length>0)&&(null==(v=n.productForm.get("brand"))?null:v.errors)),t.R7$(5),t.Y8G("ngIf",((null==(_=n.productForm.get("tags"))?null:_.touched)||(null==(_=n.productForm.get("tags"))?null:_.value.length)>0)&&(null==(_=n.productForm.get("tags"))?null:_.errors)),t.R7$(6),t.Y8G("ngIf",(null==(k=n.productForm.get("images"))?null:k.touched)&&(null==(k=n.productForm.get("images"))?null:k.errors)),t.R7$(1),t.Y8G("disabled",n.productForm.invalid)}},dependencies:[g.MD,g.bT,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,o.YN]})}}return e})()},9055:(T,E,u)=>{u.d(E,{b:()=>t});var g=u(8699),o=u(1626);let t=(()=>{class a{constructor(s){this._HttpClient=s,this.baseUrl="https://dummyjson.com/products"}getAllProducts(s=1,d=10){return this._HttpClient.get(`${this.baseUrl}?limit=${d}&skip=${(s-1)*d}`)}SearchProduct(s="",d=1,c=10){return this._HttpClient.get(this.baseUrl+`/search?q=${s}`)}sortProducts(s="",d="asc",c=1,m=10){return this._HttpClient.get(this.baseUrl+`?sortBy=${s}&order=${d}&limit=${m}&skip=${(c-1)*m}`)}addProduct(s){return this._HttpClient.post(this.baseUrl+"/add",s)}getProductById(s){return this._HttpClient.get(this.baseUrl+`/${s}`)}updateProduct(s,d){return this._HttpClient.put(this.baseUrl+`/${s}`,d)}static{this.\u0275fac=function(d){return new(d||a)(g.KVO(o.Qq))}}static{this.\u0275prov=g.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()}}]);