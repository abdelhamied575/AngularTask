"use strict";(self.webpackChunkAngularTask=self.webpackChunkAngularTask||[]).push([[613],{1613:(L,_,s)=>{s.r(_),s.d(_,{LoginComponent:()=>C});var g=s(177),r=s(4341),d=s(2969),n=s(8699),p=s(2170),c=s(7572),f=s(5794);function E(o,m){1&o&&(n.j41(0,"p"),n.EFF(1,"username is required"),n.k0s())}function h(o,m){if(1&o&&(n.j41(0,"div",12),n.DNE(1,E,2,0,"p",13),n.k0s()),2&o){const e=n.XpG();let t;n.R7$(1),n.Y8G("ngIf",null==(t=e.loginForm.get("username"))?null:t.getError("required"))}}function F(o,m){1&o&&(n.j41(0,"p"),n.EFF(1,"password is required"),n.k0s())}function v(o,m){if(1&o&&(n.j41(0,"div",12),n.DNE(1,F,2,0,"p",13),n.k0s()),2&o){const e=n.XpG();let t;n.R7$(1),n.Y8G("ngIf",null==(t=e.loginForm.get("password"))?null:t.getError("required"))}}let C=(()=>{class o{constructor(e,t,l,i){this._AuthService=e,this._Router=t,this._FormBuilder=l,this.toster=i,this.loginForm=this._FormBuilder.group({username:[null,[r.k0.required]],password:[null,[r.k0.required]]})}handleForm(){this.loginForm.valid&&this._AuthService.login(this.loginForm.value).subscribe({next:e=>{this.toster.success("Login Successfully"),console.log(e),localStorage.setItem("userToken",e.accessToken),this._Router.navigate(["/home"])},error:e=>{console.log(e),this.toster.error("Login Failed")}})}static{this.\u0275fac=function(t){return new(t||o)(n.rXU(p.u),n.rXU(c.Ix),n.rXU(r.ok),n.rXU(f.tw))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:20,vars:3,consts:[[1,"bg-main-light","p-4","rounded","my-3","w-75","mx-auto"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["inputusername",""],["class","alert alert-danger",4,"ngIf"],["for","password"],["type","text","id","password","formControlName","password",1,"form-control"],["inputPassword",""],[1,"d-flex","justify-content-between","align-items-center"],["type","submit",1,"btn","btn-secondary","d-block","ms-auto"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,l){if(1&t&&(n.j41(0,"section",0)(1,"h1"),n.EFF(2,"Login Now:"),n.k0s(),n.nrm(3,"app-loader"),n.j41(4,"form",1),n.bIt("ngSubmit",function(){return l.handleForm()}),n.j41(5,"div",2)(6,"label",3),n.EFF(7,"username:"),n.k0s(),n.nrm(8,"input",4,5),n.DNE(10,h,2,1,"div",6),n.k0s(),n.j41(11,"div",2)(12,"label",7),n.EFF(13,"password:"),n.k0s(),n.nrm(14,"input",8,9),n.DNE(16,v,2,1,"div",6),n.k0s(),n.j41(17,"div",10)(18,"button",11),n.EFF(19," Login "),n.k0s()()()()),2&t){const i=n.sdS(9),D=n.sdS(15);let a,u;n.R7$(4),n.Y8G("formGroup",l.loginForm),n.R7$(6),n.Y8G("ngIf",(null==(a=l.loginForm.get("username"))?null:a.errors)&&((null==(a=l.loginForm.get("username"))?null:a.touched)||i.value.length>0)),n.R7$(6),n.Y8G("ngIf",((null==(u=l.loginForm.get("password"))?null:u.touched)||D.value.length>0)&&(null==(u=l.loginForm.get("password"))?null:u.errors))}},dependencies:[g.MD,g.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,d.V]})}}return o})()}}]);